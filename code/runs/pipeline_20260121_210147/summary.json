{
  "run_id": "pipeline_20260121_210147",
  "timestamp": "2026-01-21 21:17:05",
  "seed": 42,
  "data": {
    "features_path": "data/features.npy",
    "prices_path": "data/prices.npy",
    "shape_features": [
      6195,
      12
    ],
    "shape_prices": [
      6195
    ],
    "seg_len": 1239,
    "n_segs": 5,
    "train_frac": 0.7,
    "seg_train_len": 867,
    "seg_test_len": 372
  },
  "train": {
    "buy": {
      "episodes": 200,
      "steps_per_episode": null,
      "state_dim": 12,
      "reward_mean": 0.0,
      "reward_last": 0.0,
      "loss_last": 0.0,
      "total_steps": 0,
      "learn_steps": 866563,
      "model_path": "runs/pipeline_20260121_210147/buy_agent.pt"
    },
    "sell": {
      "episodes": 4000,
      "max_steps": 200,
      "updates_per_step": 1,
      "avg_steps_per_ep": 15,
      "sell_state_dim": 15,
      "sell_decay_steps": 40000,
      "reward_mean": 0.0,
      "reward_last": 0.0,
      "loss_last": 0.0,
      "model_path": "runs/pipeline_20260121_210147/sell_agent.pt",
      "n_entries_train": 246
    },
    "tm_buy_only": {
      "final_equity": 13.471547371297255,
      "exit_reasons": {
        "time": 139
      },
      "entry_debug": {
        "checked": 999,
        "blocked_trend": 793,
        "blocked_latest_entry": 21,
        "blocked_conf": 37,
        "opened": 139,
        "conf_min": 0.05001324116266525,
        "conf_max": 0.9998471832182425,
        "blocked_sentiment": 9,
        "blocked_sentiment_samples": [
          {
            "t": 480,
            "sent": -0.10032100230455399,
            "mass": 0.9770979881286621,
            "conf": 0.5046911204180345
          },
          {
            "t": 1661,
            "sent": -0.05763888359069824,
            "mass": 1.602344036102295,
            "conf": 0.7145598467582809
          },
          {
            "t": 2008,
            "sent": 0.02265726961195469,
            "mass": 1.600074052810669,
            "conf": 0.45870092977603444
          },
          {
            "t": 2227,
            "sent": -0.12670600414276123,
            "mass": 0.5854560136795044,
            "conf": 0.5230433047849897
          },
          {
            "t": 3369,
            "sent": 0.04114900156855583,
            "mass": 0.7033069729804993,
            "conf": 0.6779327391044276
          }
        ]
      },
      "sell_debug": {
        "seen": 0,
        "sell_actions": 0
      },
      "n_trades": 139,
      "avg_net_return": 0.023496727489013214,
      "win_rate": 0.6187050359712231,
      "min_net": -0.28274541852563084,
      "median_net": 0.029180738760563596,
      "max_net": 0.3930759906905483
    },
    "tm_with_sell": {
      "final_equity": 27.21334448321341,
      "exit_reasons": {
        "time": 125,
        "sell_agent": 19
      },
      "entry_debug": {
        "checked": 995,
        "blocked_trend": 779,
        "blocked_latest_entry": 21,
        "blocked_conf": 41,
        "opened": 144,
        "conf_min": 0.05001324116266525,
        "conf_max": 0.9998471832182425,
        "blocked_sentiment": 10,
        "blocked_sentiment_samples": [
          {
            "t": 268,
            "sent": -0.2715179920196533,
            "mass": 0.8816379904747009,
            "conf": 0.4131502821121786
          },
          {
            "t": 480,
            "sent": -0.10032100230455399,
            "mass": 0.9770979881286621,
            "conf": 0.5046911204180345
          },
          {
            "t": 1661,
            "sent": -0.05763888359069824,
            "mass": 1.602344036102295,
            "conf": 0.7145598467582809
          },
          {
            "t": 2008,
            "sent": 0.02265726961195469,
            "mass": 1.600074052810669,
            "conf": 0.45870092977603444
          },
          {
            "t": 2227,
            "sent": -0.12670600414276123,
            "mass": 0.5854560136795044,
            "conf": 0.5230433047849897
          }
        ]
      },
      "sell_debug": {
        "seen": 1343,
        "sell_actions": 261
      },
      "n_trades": 144,
      "avg_net_return": 0.027381074926346154,
      "win_rate": 0.6388888888888888,
      "min_net": -0.28274541852563084,
      "median_net": 0.030310364011308488,
      "max_net": 0.3930759906905483
    }
  },
  "test": {
    "tm_buy_only": {
      "final_equity": 1.5847288629609673,
      "exit_reasons": {
        "time": 58
      },
      "entry_debug": {
        "checked": 468,
        "blocked_trend": 374,
        "blocked_latest_entry": 25,
        "blocked_conf": 5,
        "opened": 58,
        "conf_min": 0.18989048676138703,
        "conf_max": 0.9818942121856266,
        "blocked_sentiment": 6,
        "blocked_sentiment_samples": [
          {
            "t": 344,
            "sent": -0.017996761947870255,
            "mass": 1.6865910291671753,
            "conf": 0.4937610213756523
          },
          {
            "t": 510,
            "sent": -0.10528286546468735,
            "mass": 1.8700300455093384,
            "conf": 0.5210481098766605
          },
          {
            "t": 847,
            "sent": -0.11386299878358841,
            "mass": 0.6134979724884033,
            "conf": 0.49326582742747316
          },
          {
            "t": 1687,
            "sent": -0.3070429861545563,
            "mass": 0.6459760069847107,
            "conf": 0.9818942121856266
          },
          {
            "t": 1713,
            "sent": 0.03299099951982498,
            "mass": 0.5878499746322632,
            "conf": 0.4861101045090554
          }
        ]
      },
      "sell_debug": {
        "seen": 0,
        "sell_actions": 0
      },
      "n_trades": 58,
      "avg_net_return": 0.013411907295990566,
      "win_rate": 0.603448275862069,
      "min_net": -0.25154234882103677,
      "median_net": 0.01615260210626468,
      "max_net": 0.32334161900060887
    },
    "tm_with_sell": {
      "final_equity": 1.9571633425212152,
      "exit_reasons": {
        "time": 55,
        "sell_agent": 3
      },
      "entry_debug": {
        "checked": 473,
        "blocked_trend": 377,
        "blocked_latest_entry": 27,
        "blocked_conf": 7,
        "opened": 58,
        "conf_min": 0.18989048676138703,
        "conf_max": 0.9818942121856266,
        "blocked_sentiment": 4,
        "blocked_sentiment_samples": [
          {
            "t": 344,
            "sent": -0.017996761947870255,
            "mass": 1.6865910291671753,
            "conf": 0.4937610213756523
          },
          {
            "t": 510,
            "sent": -0.10528286546468735,
            "mass": 1.8700300455093384,
            "conf": 0.5210481098766605
          },
          {
            "t": 847,
            "sent": -0.11386299878358841,
            "mass": 0.6134979724884033,
            "conf": 0.49326582742747316
          },
          {
            "t": 1687,
            "sent": -0.3070429861545563,
            "mass": 0.6459760069847107,
            "conf": 0.9818942121856266
          }
        ]
      },
      "sell_debug": {
        "seen": 578,
        "sell_actions": 169
      },
      "n_trades": 58,
      "avg_net_return": 0.018175967167235837,
      "win_rate": 0.603448275862069,
      "min_net": -0.25154234882103677,
      "median_net": 0.012225962590410977,
      "max_net": 0.4240031879890094
    }
  },
  "sell_uplift": {
    "train": {
      "final_equity_delta": 13.741797111916156,
      "avg_net_return_delta": 0.0038843474373329405,
      "win_rate_delta": 0.02018385291766578,
      "n_trades_delta": 5,
      "sell_exits": 19
    },
    "test": {
      "final_equity_delta": 0.3724344795602479,
      "avg_net_return_delta": 0.004764059871245271,
      "win_rate_delta": 0.0,
      "n_trades_delta": 0,
      "sell_exits": 3
    }
  },
  "entry_indices": {
    "n_train": 246,
    "n_test": 93,
    "train_path": "runs/pipeline_20260121_210147/entry_indices_train_sell.npy",
    "test_path": "runs/pipeline_20260121_210147/entry_indices_test_sell.npy"
  },
  "artifacts": {
    "buy_agent": "runs/pipeline_20260121_210147/buy_agent.pt",
    "sell_agent": "runs/pipeline_20260121_210147/sell_agent.pt",
    "entry_indices_train_sell": "runs/pipeline_20260121_210147/entry_indices_train_sell.npy",
    "entry_indices_test_sell": "runs/pipeline_20260121_210147/entry_indices_test_sell.npy",
    "trades_train_buy_only": "runs/pipeline_20260121_210147/trades_train_buy_only.json",
    "trades_test_buy_only": "runs/pipeline_20260121_210147/trades_test_buy_only.json",
    "trades_train_with_sell": "runs/pipeline_20260121_210147/trades_train_with_sell.json",
    "trades_test_with_sell": "runs/pipeline_20260121_210147/trades_test_with_sell.json"
  }
}